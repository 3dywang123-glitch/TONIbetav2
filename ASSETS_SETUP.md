# Assets æ¨¡å‹æ–‡ä»¶è®¾ç½®è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

ç”±äºæ¨¡å‹æ–‡ä»¶è¾ƒå¤§ï¼ˆçº¦æ•°ç™¾MBï¼‰ï¼Œ`assets/` æ–‡ä»¶å¤¹ä¸åŒ…å«åœ¨Gitä»“åº“ä¸­ã€‚ç”¨æˆ·éœ€è¦å•ç‹¬ä¸‹è½½æˆ–å‡†å¤‡è¿™äº›æ¨¡å‹æ–‡ä»¶ã€‚

## ğŸ“¦ éœ€è¦çš„æ¨¡å‹æ–‡ä»¶

æ¨¡å‹æ–‡ä»¶åº”æ”¾ç½®åœ¨ `assets/model/` ç›®å½•ä¸‹ï¼ŒåŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

### ASR (è¯­éŸ³è¯†åˆ«) æ¨¡å‹
- `encoder-epoch-99-avg-1.onnx` - ç¼–ç å™¨æ¨¡å‹
- `decoder-epoch-99-avg-1.onnx` - è§£ç å™¨æ¨¡å‹
- `joiner-epoch-99-avg-1.onnx` - è¿æ¥å™¨æ¨¡å‹
- `tokens_asr.txt` - ASR tokenåˆ—è¡¨
- `lexicon.txt` - è¯å…¸æ–‡ä»¶

### TTS (è¯­éŸ³åˆæˆ) æ¨¡å‹
- `vits-aishell3.onnx` - TTSæ¨¡å‹
- `tokens_tts.txt` - TTS tokenåˆ—è¡¨

### è¯­è¨€æ¨¡å‹æ–‡ä»¶
- `rule.far` - è§„åˆ™æ–‡ä»¶
- `new_heteronym.fst` - å¼‚éŸ³å­—æ–‡ä»¶
- `date.fst` - æ—¥æœŸå¤„ç†æ–‡ä»¶
- `number.fst` - æ•°å­—å¤„ç†æ–‡ä»¶
- `phone.fst` - ç”µè¯å·å¤„ç†æ–‡ä»¶

## ğŸ”§ è·å–æ–¹å¼

### æ–¹å¼1: ä»åŸå§‹æ¥æºä¸‹è½½ï¼ˆæ¨èï¼‰

è¿™äº›æ¨¡å‹æ–‡ä»¶æ¥è‡ª [Sherpa-Onnx](https://github.com/k2-fsa/sherpa-onnx) é¡¹ç›®ã€‚

**ASRæ¨¡å‹**:
- ä¸‹è½½ä¸­æ–‡ASRæ¨¡å‹ï¼ˆæ¨èä½¿ç”¨ `sherpa-onnx-paraformer-zh-2023-09-14` æˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰
- æå–æ¨¡å‹æ–‡ä»¶åˆ° `assets/model/` ç›®å½•

**TTSæ¨¡å‹**:
- ä¸‹è½½ä¸­æ–‡TTSæ¨¡å‹ï¼ˆæ¨èä½¿ç”¨ `sherpa-onnx-vits-zh-2023-09-14` æˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰
- æå–æ¨¡å‹æ–‡ä»¶åˆ° `assets/model/` ç›®å½•

### æ–¹å¼2: ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹

1. è®¿é—® [Sherpa-Onnx æ¨¡å‹ä»“åº“](https://github.com/k2-fsa/sherpa-onnx/releases)
2. ä¸‹è½½å¯¹åº”çš„ä¸­æ–‡æ¨¡å‹åŒ…
3. è§£å‹å¹¶å¤åˆ¶æ¨¡å‹æ–‡ä»¶åˆ° `assets/model/` ç›®å½•

### æ–¹å¼3: è”ç³»é¡¹ç›®ç»´æŠ¤è€…

å¦‚æœæ— æ³•ä»å…¬å¼€æ¥æºè·å–ï¼Œå¯ä»¥è”ç³»é¡¹ç›®ç»´æŠ¤è€…è·å–æ¨¡å‹æ–‡ä»¶ã€‚

## ğŸ“ ç›®å½•ç»“æ„

ç¡®ä¿æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š

```
assets/
â””â”€â”€ model/
    â”œâ”€â”€ encoder-epoch-99-avg-1.onnx
    â”œâ”€â”€ decoder-epoch-99-avg-1.onnx
    â”œâ”€â”€ joiner-epoch-99-avg-1.onnx
    â”œâ”€â”€ tokens_asr.txt
    â”œâ”€â”€ lexicon.txt
    â”œâ”€â”€ vits-aishell3.onnx
    â”œâ”€â”€ tokens_tts.txt
    â”œâ”€â”€ rule.far
    â”œâ”€â”€ new_heteronym.fst
    â”œâ”€â”€ date.fst
    â”œâ”€â”€ number.fst
    â””â”€â”€ phone.fst
```

## âœ… éªŒè¯

è¿è¡Œåº”ç”¨åï¼Œæ£€æŸ¥æ—¥å¿—è¾“å‡ºï¼š
- `âœ… [OfflineASR] å¬è§‰ç³»ç»Ÿå°±ç»ªï¼` - ASRæ¨¡å‹åŠ è½½æˆåŠŸ
- `âœ… [OfflineTTS] å¼•æ“å°±ç»ªï¼` - TTSæ¨¡å‹åŠ è½½æˆåŠŸ

å¦‚æœçœ‹åˆ°é”™è¯¯ä¿¡æ¯ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. æ–‡ä»¶æ˜¯å¦å®Œæ•´ï¼ˆæœªæŸåï¼‰
3. æ–‡ä»¶æƒé™æ˜¯å¦æ­£ç¡®

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å¤§å°**: æ¨¡å‹æ–‡ä»¶æ€»å¤§å°çº¦ 200-500MBï¼Œè¯·ç¡®ä¿æœ‰è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´
2. **ç‰ˆæœ¬å…¼å®¹**: ç¡®ä¿ä½¿ç”¨çš„æ¨¡å‹ç‰ˆæœ¬ä¸ä»£ç å…¼å®¹
3. **è·¯å¾„é…ç½®**: ç¡®ä¿ `pubspec.yaml` ä¸­çš„ assets è·¯å¾„é…ç½®æ­£ç¡®ï¼š
   ```yaml
   flutter:
     assets:
       - ../assets/model/
   ```

## ğŸ”— ç›¸å…³é“¾æ¥

- [Sherpa-Onnx GitHub](https://github.com/k2-fsa/sherpa-onnx)
- [Sherpa-Onnx æ–‡æ¡£](https://k2-fsa.github.io/sherpa/onnx/)
- [ä¸­æ–‡ASRæ¨¡å‹](https://github.com/k2-fsa/sherpa-onnx/releases)
- [ä¸­æ–‡TTSæ¨¡å‹](https://github.com/k2-fsa/sherpa-onnx/releases)

